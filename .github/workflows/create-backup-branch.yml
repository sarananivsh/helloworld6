name: Create and Push Backup Branch

on:
  workflow_dispatch:  # Triggered manually or by API call
  push:
    branches:
      - main  # You can change this to whatever branch you want to trigger the workflow

jobs:
  create-backup-branch:
    runs-on: ubuntu-latest

    permissions:
      contents: write  # Ensure write access to contents for creating branches

    steps:
    # Step 1: Check out the repository
    - name: Checkout code
      uses: actions/checkout@v2

    # Step 2: Create a new branch and push it to the repository
    - name: Create and push new branch
      run: |
        # Set up Git user for actions
        git config --global user.name "GitHub Actions"
        git config --global user.email "actions@github.com"

        # Create a new branch (replace with your desired branch name)
        git checkout -b Mule3_backup

        # Push the new branch to the repository
        git push origin Mule3_backup
